(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{79391:function(){},16303:function(e,t,o){"use strict";o.d(t,{Z:function(){return TransactionLink}});var r=o(37151),n=o(10649),a=o(57867),s=o.n(a),i=o(47934);function TransactionLink(e){let{children:t,hash:o,className:a}=e,l=(0,i.m)(),d=l.chainId;return(0,r.jsx)(s(),{href:n._.transactionChainExplorerPrefix(d)+o,target:"_blank",prefetch:!1,className:a,children:t})}},10009:function(e,t,o){"use strict";o.d(t,{I:function(){return s}});var r=o(37151),n=o(19605),a=o(91608);let s=n.forwardRef((e,t)=>{let{className:o,type:n,...s}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),ref:t,...s})});s.displayName="Input"},28076:function(e,t,o){"use strict";o.d(t,{_:function(){return d}});var r=o(37151),n=o(19605),a=o(33935),s=o(73918),i=o(91608);let l=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,i.cn)(l(),o),...n})});d.displayName=a.f.displayName},3306:function(e,t,o){"use strict";o.d(t,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return w},i4:function(){return m},ki:function(){return u}});var r=o(37151),n=o(19605),a=o(93881),s=o(12787),i=o(8529),l=o(20803),d=o(91608);let c=a.fC;a.ZA;let u=a.B4,m=n.forwardRef((e,t)=>{let{className:o,children:n,...i}=e;return(0,r.jsxs)(a.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...i,children:[n,(0,r.jsx)(a.JO,{asChild:!0,children:(0,r.jsx)(s.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let f=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,r.jsx)(a.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",o),...n,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=a.u_.displayName;let p=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,r.jsx)(a.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",o),...n,children:(0,r.jsx)(s.Z,{className:"h-4 w-4"})})});p.displayName=a.$G.displayName;let h=n.forwardRef((e,t)=>{let{className:o,children:n,position:s="popper",...i}=e;return(0,r.jsx)(a.h_,{children:(0,r.jsxs)(a.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:s,...i,children:[(0,r.jsx)(f,{}),(0,r.jsx)(a.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(p,{})]})})});h.displayName=a.VY.displayName;let g=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...n})});g.displayName=a.__.displayName;let w=n.forwardRef((e,t)=>{let{className:o,children:n,...s}=e;return(0,r.jsxs)(a.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(a.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(a.eT,{children:n})]})});w.displayName=a.ck.displayName;let b=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",o),...n})});b.displayName=a.Z0.displayName},30711:function(e,t,o){"use strict";o.d(t,{Z:function(){return useEthersProvider}});var r=o(96413),n=o(3246),a=o(19605),s=o(39435);function useEthersProvider(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.m)({chainId:e});return(0,a.useMemo)(()=>t?function(e){var t,o;let{chain:a,transport:s}=e,i={chainId:a.id,name:a.name,ensAddress:null===(o=a.contracts)||void 0===o?void 0:null===(t=o.ensRegistry)||void 0===t?void 0:t.address};return"fallback"===s.type?new r.H(s.transports.map(e=>{let{value:t}=e;return new n.r(null==t?void 0:t.url,i)})):new n.r(s.url,i)}(t):void 0,[t])}},99921:function(e,t,o){"use strict";o.d(t,{H:function(){return useSwapService}});var r=o(30711);let FetchSwapService=class FetchSwapService{quote(e,t,o){fetch(this.baseURL+"/quote?src=".concat(e.fromToken.address,"&dst=").concat(e.toToken.address,"&amount=").concat(e.amount,"&slippage=").concat(e.slippage,"&includeGas=true"),{method:"GET"}).then(e=>{e.ok?e.json().then(e=>{t(e)}).catch(e=>{console.log(e),o(e)}):e.json().then(e=>{o(Error(e.error+":"+e.message))}).catch(e=>{console.log(e),o(e)})}).catch(e=>{console.log(e),o(e)})}swap(e,t,o){fetch(this.baseURL+"/swap?src=".concat(e.fromToken.address,"&dst=").concat(e.toToken.address,"&amount=").concat(e.amount,"&slippage=").concat(e.slippage,"&from=").concat(e.from),{method:"GET"}).then(e=>{e.ok?e.json().then(e=>{t(e)}).catch(e=>{console.log(e),o(e)}):e.json().then(e=>{o(Error(e.error+":"+e.message))}).catch(e=>{console.log(e),o(e)})}).catch(e=>{console.log(e),o(e)})}constructor(e){this.baseURL=e}};var n=o(19605),a=o(10649),s=o(8279),i=o(67963);let SPStaticV3SubgraphProvider=class SPStaticV3SubgraphProvider{async getPools(e,t,o){s.cM7.info("In static subgraph provider for V3");let r=this.basesIn,n=[];e&&t&&n.push([e,t],...r.map(t=>[e,t]),...r.map(e=>[t,e]));let a=n.filter(e=>!!(e[0]&&e[1])).filter(e=>{let[t,o]=e;return t.address!==o.address&&!t.equals(o)}).flatMap(e=>{let[t,o]=e;return[[t,o,i.FeeAmount.LOWEST],[t,o,i.FeeAmount.LOW],[t,o,i.FeeAmount.MEDIUM],[t,o,i.FeeAmount.HIGH]]});s.cM7.info("V3 Static subgraph provider about to get ".concat(a.length," pools on-chain"));let l=await this.poolProvider.getPools(a,o),d=l.getAllPools(),c=new Set,u=[];for(let e of d){let{token0:t,token1:o,fee:r,liquidity:n}=e,a=i.Pool.getAddress(e.token0,e.token1,e.fee);if(c.has(a))continue;c.add(a);let l=Number(n.toString());u.push({id:a,feeTier:(0,s.j57)(r),liquidity:n.toString(),token0:{id:t.address},token1:{id:o.address},tvlETH:l,tvlUSD:l})}return u}constructor(e,t,o){this.chainId=e,this.poolProvider=t,this.basesIn=o}};var l=o(25079),d=o(26881),c=o(54418),u=o(18098);let SPDummyV2PoolProvider=class SPDummyV2PoolProvider{getPools(e,t){let o={getPool:(e,t)=>{},getPoolByAddress:e=>{},getAllPools:()=>[]};return new Promise((e,t)=>{e(o)})}getPoolAddress(e,t){let[o,r]=e.sortsBefore(t)?[e,t]:[t,e],n=u.sO.getAddress(o,r);return{poolAddress:n,token0:o,token1:r}}constructor(){}};let EmbeddedSwapService=class EmbeddedSwapService{quote(e,t,o){let r=new d.Token(d.ChainId.SEPOLIA,e.fromToken.address,e.fromToken.decimals,e.fromToken.name,e.fromToken.symbol),n=new d.Token(d.ChainId.SEPOLIA,e.toToken.address,e.toToken.decimals,e.toToken.name,e.toToken.symbol),a={recipient:"0x0000000000000000000000000000000000000000",slippageTolerance:new d.Percent(50,1e4),deadline:Math.floor(Date.now()/1e3+1800),type:s.xPi.SWAP_ROUTER_02};this.router.route(d.CurrencyAmount.fromRawAmount(r,e.amount),n,d.TradeType.EXACT_INPUT,a,{protocols:[l.Protocol.V3],v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:3,topNSecondHop:2,topNWithEachBaseToken:3,topNWithBaseToken:5}}).then(r=>{if(console.log(r),null!==r){let o={srcToken:e.fromToken,srcAmount:e.amount,dstToken:e.toToken,dstAmount:(0,c.parseUnits)(r.quote.toExact(),e.toToken.decimals).toString(),gas:r.estimatedGasUsed.toNumber(),gasPriceWei:r.gasPriceWei.toString(),routerAddress:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",slippage:100,provider:"UniswapV3"};o.sorRoute=r,t(o)}else o(Error("Unable to retrieve embedded SOR quote"))}).catch(e=>{console.log(e),o(e)})}swap(e,t,o){let r=new d.Token(d.ChainId.SEPOLIA,e.fromToken.address,e.fromToken.decimals,e.fromToken.name,e.fromToken.symbol),n=new d.Token(d.ChainId.SEPOLIA,e.toToken.address,e.toToken.decimals,e.toToken.name,e.toToken.symbol),a={recipient:e.from,slippageTolerance:new d.Percent(50,1e4),deadline:Math.floor(Date.now()/1e3+1800),type:s.xPi.SWAP_ROUTER_02};this.router.route(d.CurrencyAmount.fromRawAmount(r,e.amount),n,d.TradeType.EXACT_INPUT,a,{protocols:[l.Protocol.V3],v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:3,topNSecondHop:2,topNWithEachBaseToken:3,topNWithBaseToken:5}}).then(r=>{console.log(r),null!==r?this.provider.estimateGas({from:e.from,data:r.methodParameters.calldata,to:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",value:r.methodParameters.value}).then(o=>{console.log("GasEstimate="+o.toNumber());let n={srcToken:e.fromToken,srcAmount:e.amount,dstToken:e.toToken,dstAmount:(0,c.parseUnits)(r.quote.toExact(),e.toToken.decimals).toString(),gas:r.estimatedGasUsed.toNumber(),routerAddress:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",slippage:100,provider:"UniswapV3",tx:{data:r.methodParameters.calldata,from:e.from,gas:o.mul("12").div("10").toNumber(),to:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",value:r.methodParameters.value,gasPrice:r.gasPriceWei.toString()}};n.sorRoute=r,t(n)}).catch(e=>{console.log(e),o(e)}):o(Error("Unable to retrieve embedded SOR swap"))}).catch(e=>{console.log(e),o(e)})}constructor(e,t){this.router=e,this.provider=t}};function useSwapService(){let e=(0,r.Z)(),t=null,o=null;try{t=localStorage.getItem("SWAP_SERVICE_TYPE"),o=localStorage.getItem("SWAP_SERVICE_URL")}catch(e){console.error("Error retrieving swap service configuration from local storage:",e)}return(0,n.useMemo)(()=>"EMBEDDED"===t||!t||a._.embeddedRouterOnly?function(e){try{let t=new s.vih(d.ChainId.SEPOLIA,e,375e3),o=new s.lNC((0,s.m6q)(d.ChainId.SEPOLIA),t),r=new SPStaticV3SubgraphProvider(d.ChainId.SEPOLIA,o,[new d.Token(d.ChainId.SEPOLIA,a._.sptAddress,18,"SPT","Swap Playground Token")]),n=new s.hfy({chainId:d.ChainId.SEPOLIA,provider:e,v2PoolProvider:new SPDummyV2PoolProvider,v3PoolProvider:o,v3SubgraphProvider:r});return new EmbeddedSwapService(n,e)}catch(e){throw console.error("Error setting up embedded SOR swap service:",e),e}}(e):new FetchSwapService(o||"".concat(a._.basePath,"/chain-app/swap/v6.0/11155111")),[e,t,o])}}}]);